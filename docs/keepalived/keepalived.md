## lvs (Linux Virtual Server)  
[LVS介绍](https://blog.csdn.net/weixin_44006596/article/details/127981810)  
LVS 是一个极好的负载均衡解决方案，它将一个真实服务器集群虚拟成一台服务器来对外提供服务    
，同时在真实服务器集群中实现了负载均衡  
### LVS的3种工作模式  
#### NAT（地址转换）模式   
NAT 网络地址转发，说白了vip 起个代理作用，通过nat转发到真实的服务器处理    
#### DR（直接路由）模式   
请求通过vip虚拟服务器  而响应不经过vip虚拟服务器, 直接真实服务器到用户  
#### UN（隧道）模式  
TNU模式与DR模式非常相似，它同样是只有请求信息会经过DS，应答信息由Real Server直接返回给用户。    
不过DR模式中，要求DS和所有的Real Server必须在一个局域网中，而TNU模式去掉了这个限制。  


## keepalived  
1、keepalived 服务简单来说，就是用来防止单点故障的。  
2、单点故障防止，主服务器挂了之后从服务器充当主服务器，原来的主服务器恢复后，当从服务器来使用，保证服务的高可用性。 
也可以这样理解，老大挂了之后手下的小弟过来接班，老大复活后，当小弟使用。  

保证高可用性   
一个WEB服务至少会有2台服务器运行Keepalived，一台为主服务器（MASTER），一台为备份服务器（BACKUP），  
但是对外表现为一个虚拟IP，主服务器会发送特定的消息给备份服务器， 
当备份服务器收不到这个消息的时候，即主服务器宕机的时候，备份服务器就会接管虚拟IP，继续提供服务，从而保证了高可用性。  
[keepalived工作原理](https://blog.csdn.net/sugartang23/article/details/120515644)  
arp 地址解析协议： 通过 ip 找 mac 地址  
ARP缓存表  
vip  主服务器mac 如果挂了 变成   vip 备份服务器mac  





